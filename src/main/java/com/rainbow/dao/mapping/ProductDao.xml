<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rainbow.dao.ProductDao">

	<select id="ShopProduct" resultType="Product">
		select 
			product_id productId, 
			product_name productName,
			price price,
			count count,
			detail detail,
			type type
		from product where count>0 and type=0
	</select>
	 
	 
	<select id="RepertoryList" resultType="Product">
		select 
			product_id productId, 
			product_name productName,
			price price,
			count count,
			detail detail,
			type type
		from product 
		<where>
			count>0
            <if test="productName!=null and productName!='' ">
				and product_name like concat('%',#{productName},'%')
		    </if>
            <if test="type !=null and type!=''">
				and type=#{type} 
		    </if>
		</where>
	</select>
	
	 
	<insert id="AddProduct" >
		insert into product(product_name,price,count,detail,type) 
		values(#{productName},#{price},#{count},#{detail},"1")
	</insert>
	
	
	<update id="UpdateProduct"  >
		update product set product_name=#{productName},price=#{price},count=#{count},detail=#{detail} where product_id=#{productId}
	</update>
	
	
	<insert id="createProduct">
		insert into product(product_id,productName,price,count,detail,type) 
		values(#{productId},#{productName},#{price},#{count},#{detail},#{type})
	</insert>
	
	
    <delete id="DelProduct"  >
        delete from product where product_id =#{productId}
    </delete>


    <update id="upOrDownShopProduct" parameterType="int">
		update product set type=#{type} where product_id=#{productId}
	</update>
	
	<update id="updateShopCardType"  >
		update shop_card set type=#{type} where product_id=#{productId}
	</update>
</mapper>