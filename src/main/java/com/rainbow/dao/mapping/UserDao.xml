<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rainbow.dao.UserDao">

    <select id="findByUserId" resultType="User">
		select 
			user_id userId, 
			user_name userName,
			sex sex,
			age age, 
			phone phone,
			e-mail eMail,
			address address,
			type type,
			praise_rate praiseRate
		from user where user_id=#{userId} and type like concat(#{type},'%') 
	</select>
	<select id="login" resultType="User">
		select 
			user_id userId, 
			user_name userName,
			password password,
			sex sex,
			age age, 
			phone phone,
			type type,
			e_mail eMail,
			address address,
			praise_rate praiseRate
		from user where user_name=#{userName} and password=#{password} and type like concat(#{type},'%')
	</select>
	<insert id="createUser">
		insert into user(user_id,user_name) 
		values(#{userId},#{userName})
	</insert>

</mapper>