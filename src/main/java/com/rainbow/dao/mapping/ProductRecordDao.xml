<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rainbow.dao.ProductRecordDao">
 
	 
	 
	<select id="RecordList" resultType="ProductRecord">
		select 
			order_id orderId, 
			product_name productName,
			price price,
			count count,
			user_name userName,
			user_id userId,
			order_time orderTime,
			total_money totalMoney
		from product_record
		<where>
            <if test="productName!=null and productName!='' ">
				and product_name like concat('%',#{productName},'%')
		    </if>
            <if test="userName !=null and userName!=''">
				and user_name like concat('%',#{userName},'%')
		    </if>
		    <if test="userId !=1">
				and user_id =#{userId}
		    </if>
		</where>
	</select>
	 <delete id="DelProduct"  >
        delete from product_record where order_id =#{orderId}
    </delete>
	 
</mapper>